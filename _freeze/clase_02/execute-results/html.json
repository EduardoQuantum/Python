{
  "hash": "fc7c344e309c7288a82a41fe41c91cba",
  "result": {
    "markdown": "---\ntitle: \"Clase 02: Discretizaci칩n de Datos\"\nsubtitle: \"Transformando variables num칠ricas en categ칩ricas\"\nauthor: \"Eduardo Lencina\"\ndate: last-modified\nlang: es\nformat:\n  html:\n    theme: flatly\n    toc: true\n    code-fold: show\n    code-tools: true\n---\n\n```{=html}\n<style>\n  h1, h2, h3, h4 { color: #003366 !important; }\n  a { color: #003366; }\n  .callout-header { background-color: #003366 !important; color: white !important; }\n</style>\n```\n\n\n::: {.callout-note icon=\"false\"}\n## 游꿢 Objetivos de la Clase\n1.  Entender la diferencia entre variable continua y discreta.\n2.  Utilizar `pd.cut()` para crear rangos de edad.\n3.  Analizar la distribuci칩n de los nuevos grupos generados.\n:::\n\n## 1. El Escenario: Edades de los Encuestados\n\nSeguimos con nuestro proyecto \"Muleto\". Esta vez nos enfocaremos exclusivamente en la columna **Edad**. A veces el n칰mero exacto no importa tanto como el \"Grupo Etario\" al que pertenece la persona.\n\n::: {#cargar-datos-c2 .cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# Simulamos edades variadas\ndatos = {\n    'encuestado_id': range(1, 11),\n    'edad': [18, 22, 55, 60, 15, 82, 33, 29, 45, 19]\n}\n\ndf = pd.DataFrame(datos)\nprint(\"Datos originales:\")\nprint(df['edad'].values)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nDatos originales:\n[18 22 55 60 15 82 33 29 45 19]\n```\n:::\n:::\n\n\n---\n\n## 2. Creando Rangos con `pd.cut()`\n\nVamos a dividir a las personas en tres categor칤as seg칰n su edad:\n* **Joven:** 0 a 30 a침os.\n* **Adulto:** 30 a 60 a침os.\n* **Adulto Mayor:** 60 a 100 a침os.\n\n::: {.panel-tabset}\n\n## 游냀 C칩digo de Transformaci칩n\n\nDefinimos los \"bordes\" (bins) y las \"etiquetas\" (labels).\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\n# 1. Definimos los cortes: 0-30, 30-60, 60-100\ncortes = [0, 30, 60, 100]\n\n# 2. Definimos los nombres de los grupos\nnombres = ['Joven', 'Adulto', 'Adulto Mayor']\n\n# 3. Aplicamos la magia de pd.cut\ndf['grupo_etario'] = pd.cut(df['edad'], bins=cortes, labels=nombres)\n\n# Mostramos el resultado\ndf[['edad', 'grupo_etario']].head(10)\n```\n\n::: {#aplicar-cut .cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>edad</th>\n      <th>grupo_etario</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>18</td>\n      <td>Joven</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>22</td>\n      <td>Joven</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>55</td>\n      <td>Adulto</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>60</td>\n      <td>Adulto</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>15</td>\n      <td>Joven</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>82</td>\n      <td>Adulto Mayor</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>33</td>\n      <td>Adulto</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>29</td>\n      <td>Joven</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>45</td>\n      <td>Adulto</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>19</td>\n      <td>Joven</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## 游늵 Visualizaci칩n\n\nAhora que tenemos una variable categ칩rica (`grupo_etario`), 춰podemos usar lo que aprendimos en la Clase 1!\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\n# Contamos cu치ntos hay en cada grupo\nconteo = df['grupo_etario'].value_counts().sort_index()\n\n# Graficamos\nconteo.plot(kind='bar', color='#003366', rot=0)\nplt.title(\"Distribuci칩n por Grupo Etario\")\nplt.ylabel(\"Cantidad\")\nplt.grid(axis='y', linestyle='--', alpha=0.5)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](clase_02_files/figure-html/grafico-grupos-output-1.png){#grafico-grupos}\n:::\n:::\n\n\n## 游닇 Interpretaci칩n\n\n**An치lisis:**\nAl discretizar la variable, simplificamos el an치lisis. Observamos que nuestra muestra es predominantemente **Joven** (menores de 30), con una presencia menor de Adultos Mayores.\n\n:::\n\n---\n\n## 3. Cierre y Tarea\n\n::: {.callout-tip}\n## 游눠 Tip Profesional\nF칤jate que `pd.cut` es 칰til cuando t칰 defines los rangos manualmente (reglas de negocio). Si quisieras que Pandas decida los cortes autom치ticamente (por ejemplo, para que todos los grupos tengan la misma cantidad de gente), investigar칤as la funci칩n `pd.qcut()` (Quantile Cut).\n:::\n\n",
    "supporting": [
      "clase_02_files/figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}