
---
title: "Clase 02: Discretizaci칩n de Datos"
subtitle: "Transformando variables num칠ricas en categ칩ricas"
author: "Eduardo Lencina"
date: last-modified
lang: es
format:
  html:
    theme: flatly
    toc: true
    code-fold: show
    code-tools: true
---

```{=html}
<style>
  h1, h2, h3, h4 { color: #003366 !important; }
  a { color: #003366; }
  .callout-header { background-color: #003366 !important; color: white !important; }
</style>
```

::: {.callout-note icon="false"}
## 游꿢 Objetivos de la Clase
1.  Entender la diferencia entre variable continua y discreta.
2.  Utilizar `pd.cut()` para crear rangos de edad.
3.  Analizar la distribuci칩n de los nuevos grupos generados.
:::

## 1. El Escenario: Edades de los Encuestados

Seguimos con nuestro proyecto "Muleto". Esta vez nos enfocaremos exclusivamente en la columna **Edad**. A veces el n칰mero exacto no importa tanto como el "Grupo Etario" al que pertenece la persona.

```{python}
#| label: cargar-datos-c2
import pandas as pd
import matplotlib.pyplot as plt

# Simulamos edades variadas
datos = {
    'encuestado_id': range(1, 11),
    'edad': [18, 22, 55, 60, 15, 82, 33, 29, 45, 19]
}

df = pd.DataFrame(datos)
print("Datos originales:")
print(df['edad'].values)
```

---

## 2. Creando Rangos con `pd.cut()`

Vamos a dividir a las personas en tres categor칤as seg칰n su edad:
* **Joven:** 0 a 30 a침os.
* **Adulto:** 30 a 60 a침os.
* **Adulto Mayor:** 60 a 100 a침os.

::: {.panel-tabset}

## 游냀 C칩digo de Transformaci칩n

Definimos los "bordes" (bins) y las "etiquetas" (labels).

```{python}
#| label: aplicar-cut

# 1. Definimos los cortes: 0-30, 30-60, 60-100
cortes = [0, 30, 60, 100]

# 2. Definimos los nombres de los grupos
nombres = ['Joven', 'Adulto', 'Adulto Mayor']

# 3. Aplicamos la magia de pd.cut
df['grupo_etario'] = pd.cut(df['edad'], bins=cortes, labels=nombres)

# Mostramos el resultado
df[['edad', 'grupo_etario']].head(10)
```

## 游늵 Visualizaci칩n

Ahora que tenemos una variable categ칩rica (`grupo_etario`), 춰podemos usar lo que aprendimos en la Clase 1!

```{python}
#| label: grafico-grupos

# Contamos cu치ntos hay en cada grupo
conteo = df['grupo_etario'].value_counts().sort_index()

# Graficamos
conteo.plot(kind='bar', color='#003366', rot=0)
plt.title("Distribuci칩n por Grupo Etario")
plt.ylabel("Cantidad")
plt.grid(axis='y', linestyle='--', alpha=0.5)
plt.show()
```

## 游닇 Interpretaci칩n

**An치lisis:**
Al discretizar la variable, simplificamos el an치lisis. Observamos que nuestra muestra es predominantemente **Joven** (menores de 30), con una presencia menor de Adultos Mayores.

:::

---

## 3. Cierre y Tarea

::: {.callout-tip}
## 游눠 Tip Profesional
F칤jate que `pd.cut` es 칰til cuando t칰 defines los rangos manualmente (reglas de negocio). Si quisieras que Pandas decida los cortes autom치ticamente (por ejemplo, para que todos los grupos tengan la misma cantidad de gente), investigar칤as la funci칩n `pd.qcut()` (Quantile Cut).
:::